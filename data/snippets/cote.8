# Tracking changes in the system with a publish-subscribe mechanism

const responder = new cote.Responder({ name: 'arbitration API', key: 'arbitration' });

const rates = {};

responder.on('update rate', (req, cb) => {
    rates[req.currencies] = req.rate; // { currencies: 'usd_eur', rate: 0.91 }

    cb(null, `changed ${req.currencies} rate to ${req.rate}`);
});